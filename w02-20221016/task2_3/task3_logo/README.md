#  第一次作业 3. 识别小弹丸

---

### 思路

1. 将子弹的绿色部分二值化，并找出所有轮廓；
2. 如果轮廓面积大小，则不是飞行中的弹丸；
3. 如果子弹轨迹是一条直线，那么其外接矩形长宽比很大；否则，轮廓面积占外接矩形面积的比值比较小；
4. 对于直线子弹轨迹，直接找出外接矩形中心，作为子弹轨迹的中点；对于非直线子弹轨迹，将轮廓近似为一个四边形，找出两条相邻的边，使得这两条边夹角为钝角，且两边之和尽量长，找出这条折线的中点（要选择两边长度只和尽量大的原因，是有些时候飞行与其他在地上滚的子弹轨迹会相交，但是幸好没有直接穿过，选尽量长的可以找出正在飞行的轨迹）；
5. 子弹的编号需要根据上一帧子弹的位置来判断，编号为上一帧最近的子弹编号（且距离不能太大），还要判断是否为刚发射的弹丸。

![示意](snap.png)
